<div class="black-background"></div>
<div class="ds-row container">
    <div class="ds-col-12">
        <div class="ds-row informacoes-lote">
            <div class="ds-col-3">
                <h1 class="ds-typo-semi-bold ds-color-gray-400">Data do lote: 04/12/2024</h1>
            </div>
            <div class="ds-col-3">
                <span class="ds-typo-semi-bold ds-color-gray-400">Quantidade de títulos: 0</span>
            </div>
            <div class="ds-col-3 ds-d-flex ds-justify-content-end">
                <span class="ds-typo-semi-bold ds-color-gray-400">Valor total dos títulos: R$ 0,00</span>
            </div>
            <div class="ds-col-3 ds-d-flex ds-justify-content-end">
                <h2 class="ds-typo-semi-bold ds-color-gray-400">Situação: Não enviado</h2>
            </div>
        </div>
        <hr class="hr">
        <div class="adicionar-titulos">
            <div class="ds-col-8">
                <div class="ds-row ds-d-flex">
                    <div class="ds-col-4">
                        <h5 class="adicionar ds-mt-4">Adicionar Títulos</h5>
                    </div>
                    <div class="ds-col-8 ds-mt-4 ds-d-flex ds-justify-content-end">
                        <span class="ds-color-gray-400">* Campos obrigatórios</span>
                    </div>
                </div>

                <div class="ds-row selector-titulo ds-pt-2">
                    <div class="ds-col-4">
                        <ds-input-select
                            [listaOptions]="listaOptions"
                            [labelInput]="'Tipo do título'" 
                            [placeholderInputSelect]="'Selecione'"
                            (valueChangeEvento)="mostrarCampoDuplicata($event)"
                            (valueChangeEvento)="mostrarCampoCheque($event)"
                            (valueChangeEvento)="mostrarCampoNotaPromissoria($event)">       
                        </ds-input-select>
                    </div>
                </div>

                <div *ngIf="mostrarInputsDup">
                    <app-duplicata></app-duplicata>
                  </div>
                  <div *ngIf="mostrarInputCheque">
                    <app-cheque></app-cheque>
                  </div>
                  <div *ngIf="mostrarInputNotaPromissoria">
                    <app-nota-promissoria></app-nota-promissoria>
                  </div>

                  <div class="ds-row informacoes-titulo ds-mt-2" *ngIf="nenhumCampoSelecionado()">
                    <div class="ds-col-4">
                        <ds-input-text
                            [control]="criarLoteForm.controls.numTitulo"
                            [labelInput]="'Número do título'">
                        </ds-input-text>
                    </div>
                    <div class="ds-col-4">
                        <ds-input-number
                            [control]="criarLoteForm.controls.valorTitulo"
                            [labelInput]="'Valor do título'"
                            [icone]="'ds-icon-coin'"
                            [placeholderInputNumber]="'0,00'">
                        </ds-input-number>
                    </div>
                    <div class="ds-col-4">
                        <ds-input-date
                            [control]="criarLoteForm.controls.vencimento" 
                            [labelInput]="'Vencimento'"
                            [placeholderInputDate]="'DD/MM/AAAA'">
                        </ds-input-date>
                    </div>
                </div>

                <div class="pagador ds-mt-2">
                    <span>Pagador</span>
                </div>

                <div class="ds-row informacoes-pagador ds-mt-2">
                    <div class="ds-col-3">
                        <ds-input-text
                            [control]="criarLoteForm.controls.cpf"
                            [labelInput]="'CPF/CNPJ'">
                        </ds-input-text>
                    </div>
                    <div class="ds-col-9">
                        <ds-input-text
                            [control]="criarLoteForm.controls.nome"
                            [labelInput]="'Nome'">
                        </ds-input-text>
                    </div>
                </div>

                <div class="ds-row botoes ds-d-flex ds-justify-content-end ds-mt-4">
                    <div class="ds-col-auto">
                        <ds-button 
                            [tipoBotao]="'SYSTEM'"
                            [labelButton]="'Cancelar'"
                            [iconeEsquerda]="'ds-icon-close'">
                        </ds-button>
                    </div>
                    <div class="ds-col-auto">
                        <ds-button
                            [tipoBotao]="'PRIMARY'"
                            [isDesabilitado]="verificarSeFormularioEInvalido()"
                            [labelButton]="'Salvar Título'"
                            [iconeEsquerda]="'ds-icon-check'"
                            (click)="salvarTitulo()">
                        </ds-button>
                    </div>
                    <div class="ds-col-auto">
                        <ds-button
                            [tipoBotao]="'PRIMARY'"
                            [isDesabilitado]="true"
                            [labelButton]="'Enviar Lote'"
                            [iconeDireita]="'ds-icon-right'">
                        </ds-button>
                    </div>
                </div>

            </div>
        </div>

        <div class="ds-row container-listagem" *ngIf="!titulosAdicionados || listarTitulos().length === 0;">
            <div class="sem-info">
                <img src="../../../assets/Nada por aqui 2.svg" /><br>
                <span class="">Nenhum título adicionado ainda.</span><br><br>
                <span class="">Após incluir o primeiro, você poderá visualizar a lista
                    de títulos aqui</span>
            </div>       
        </div>


<div class="container-listagem" *ngIf="titulosAdicionados && listarTitulos().length > 0;">
    <div class="ds-col-12">
        <h5>Títulos</h5>
        <ds-input-search></ds-input-search>
        <ds-checkbox [labelCheckbox]="'Marcar todos'"></ds-checkbox>
        <div class="ds-mt-4">
            <span class="ds-typo-semi-bold">Duplicatas</span>
            <div class="card ds-mt-2" *ngFor="let item of listarTitulos()">
                <div class="ds-col-12">
                    <div class="card-content">
                        <div class="ds-row">
                            <div class="ds-col-6 ds-d-flex ds-align-items-center">
                                <ds-checkbox></ds-checkbox>
                                <ds-icon class="ds-align-items-center ds-ml-2 ds-mt-2" icone="ds-icon-receipt-multiple">
                                </ds-icon>
                                <div class="ds-d-flex ds-mt-2 ds-align-items-center">
                                    <span>{{ novoTitulo.numTitulo }}</span>
                                </div>
                            </div>


                            <div class="ds-col-6 ds-d-flex ds-justify-content-end">
                                <ds-icon class="ds-align-items-center ds-mt-2" 
                                icone="ds-icon-edit"
                                [corIcone]="'PRIMARY'">                               
                                </ds-icon>
                                
                                <div class="ds-d-flex ds-justify-content-end">
                                <ds-icon class="ds-align-items-center ds-ml-2 ds-mr-4 ds-mt-2" 
                                icone="ds-icon-trash" 
                                [corIcone]="'DANGER'">
                                </ds-icon>
                                </div>
                            </div>


                            <div class="ds-row ds-mt-2">
                                <div class="ds-col-6">
                                    <small class="ds-d-flex ds-ml-2">Valor</small>
                                </div>
                                <div class="ds-col-6 ds-d-flex ds-justify-content-end">
                                    <small>Vencimento</small>
                                </div>
                            </div>

                            <div class="ds-row">
                                <div class="ds-col-6">
                                    <small class="ds-d-flex ds-ml-2">{{ novoTitulo.valorTitulo }}</small>
                                </div>
                                <div class="ds-col-6 ds-d-flex ds-justify-content-end">
                                    <span>{{ novoTitulo.vencimento }}</span>
                                </div>
                            </div>

                            <div class="ds-row">
                                <div class="ds-col-6">
                                    <small class="ds-d-flex ds-ml-2">Pagador</small>
                                </div>
                            </div>

                            <div class="ds-row">
                                <div class="ds-col-8">
                                    <span class="ds-d-flex ds-ml-2">{{ novoTitulo.nome }}</span>
                                </div>
                                <div class="ds-col-4">
                                    <span class="ds-d-flex ds-justify-content-end">{{ novoTitulo.cpf }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    </div>

</div>

